schema;node_lotatc_schema:
  type: map
  nullable: false
  allowempty: true  # allow additional parameters
  mapping:
    installation: {type: str, nullable: false, range: {min: 1}, func: file_exists}
    autoupdate: {type: bool, nullable: false}
    announce:
      type: map
      nullable: false
      mapping:
        channel: { type: int, nullable: false }
        title: { type: str, nullable: false, range: { min: 1 } }
        description: { type: str, nullable: false, range: { min: 1 } }
        footer: { type: str, nullable: false, range: { min: 1 } }
        mention:
          type: seq
          nullable: false
          sequence:
            - { type: text, nullable: false }

schema;instance_lotatc_schema:
  type: map
  nullable: false
  allowempty: true  # allow additional parameters
  mapping:
    enabled: {type: bool, nullable: false}
    host: {type: str, nullable: false, range: {min: 1}}
    port: {type: int, nullable: false, func: unique_port}
    show_passwords: {type: bool, nullable: false}
    autoupdate: {type: bool, nullable: false}
