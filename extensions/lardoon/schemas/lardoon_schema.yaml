schema;node_lardoon_schema:
  type: map
  nullable: false
  mapping:
    name: { type: str, nullable: false, range: { min: 1 } }
    use_single_process: {type: bool, nullable: false}
    cmd: {type: str, pattern: '.+\.exe$', required: true, nullable: false, range: {min: 1}}
    minutes: {type: int, nullable: false}
    bind: {type: str, pattern: '\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}:\d{1,5}', nullable: false}
    url: {type: url, nullable: false}
    auto_affinity:
      type: map
      nullable: false
      mapping:
        min_cores: {type: int, nullable: false, range: {min: 1, max: 1}}
        max_cores: {type: int, nullable: false, range: {min: 1, max: 2}}
        quality: {type: int, nullable: false, range: {min: 0, max: 1}}

schema;instance_lardoon_schema:
  type: map
  nullable: false
  mapping:
    enabled: {type: bool, nullable: false}
    name: { type: str, nullable: false, range: { min: 1 } }
    debug: {type: bool, nullable: false}
    minutes: {type: int, nullable: false}
    bind: {type: str, pattern: '\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}:\d{1,5}', nullable: false}
    url: {type: url, nullable: false}
    tacviewExportPath: {type: str, nullable: false, range: {min: 1}, func: dir_exists}
    auto_affinity:
      type: map
      nullable: false
      mapping:
        min_cores: {type: int, nullable: false, range: {min: 1, max: 1}}
        max_cores: {type: int, nullable: false, range: {min: 1, max: 2}}
        quality: {type: int, nullable: false, range: {min: 0, max: 1}}
